<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MÂ£QIL Ultra Viscosity Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  * { box-sizing: border-box; }

  :root {
    --bg-main: radial-gradient(circle at top, #0f0f12, #111217, #0c0d10);
    --text-main: #e5e7eb;
    --text-sub: #9ca3af;
    --card-bg: rgba(255,255,255,0.06);
    --card-border: rgba(255,255,255,0.12);
    --card-shadow: 0 0 40px rgba(0,0,0,0.45);
    --chart-grid: rgba(255,255,255,0.08);
    --chart-border: #111217;
  }

  body.light {
    --bg-main: radial-gradient(circle at top, #e5ecff, #f5f7ff, #e3edf7);
    --text-main: #111827;
    --text-sub: #4b5563;
    --card-bg: rgba(255,255,255,0.7);
    --card-border: rgba(148,163,184,0.5);
    --card-shadow: 0 18px 50px rgba(148,163,184,0.45);
    --chart-grid: rgba(148,163,184,0.3);
    --chart-border: #ffffff;
  }

  body {
    margin: 0;
    padding: 40px;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro", sans-serif;
    background: var(--bg-main);
    color: var(--text-main);
    display: flex;
    justify-content: center;
    animation: fadeIn 1.2s ease;
    transition: background 0.4s ease, color 0.4s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .wrapper {
    max-width: 1600px;
    width: 100%;
    position: relative;
  }

  h1 {
    text-align: center;
    font-size: 46px;
    font-weight: 800;
    margin-bottom: 10px;
  }

  .subtitle {
    text-align: center;
    margin-bottom: 40px;
    color: var(--text-sub);
    font-size: 16px;
  }

  .dashboard {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 30px;
  }

  .glass {
    padding: 30px;
    border-radius: 24px;
    background: var(--card-bg);
    backdrop-filter: blur(22px) saturate(180%);
    border: 1px solid var(--card-border);
    box-shadow: var(--card-shadow);
    position: relative;
    overflow: hidden;
    animation: cardFade 0.8s ease;
  }

  @keyframes cardFade {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .glass::before {
    content: "MÂ£QIL";
    position: absolute;
    font-size: 90px;
    font-weight: 900;
    color: rgba(255,255,255,0.04);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-20deg);
    pointer-events: none;
    user-select: none;
  }

  body.light .glass::before {
    color: rgba(15,23,42,0.05);
  }

  h2 {
    margin: 0 0 18px 0;
    font-weight: 700;
    font-size: 24px;
    position: relative;
    z-index: 1;
  }

  /* Flow bars */
  .row {
    margin: 18px 0;
    position: relative;
    z-index: 1;
  }

  .label {
    margin-bottom: 6px;
    font-weight: 600;
    font-size: 14px;
  }

  .bar {
    height: 18px;
    border-radius: 999px;
    background: rgba(255,255,255,0.12);
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.18);
    position: relative;
  }

  body.light .bar {
    background: rgba(255,255,255,0.7);
    border-color: rgba(148,163,184,0.6);
  }

  .fill {
    height: 100%;
    border-radius: 999px;
    animation: slide 1.8s ease-out forwards;
    box-shadow: 0 0 18px rgba(0,0,0,0.25);
  }

  @keyframes slide {
    from { width: 0; }
  }

  .water { width: 80%; background: linear-gradient(90deg, #00c6ff, #007aff); }
  .blood { width: 55%; background: linear-gradient(90deg, #ff9f0a, #ff3b30); }
  .honey { width: 25%; background: linear-gradient(90deg, #ffdd00, #ff9500); }

  canvas {
    position: relative;
    z-index: 1;
  }

  @media (max-width: 1100px) {
    .dashboard {
      grid-template-columns: 1fr;
    }
  }

  /* Theme toggle */
  .theme-toggle {
    position: absolute;
    top: 0;
    right: 0;
    transform: translateY(-10px);
    display: flex;
    justify-content: flex-end;
    margin-bottom: 10px;
  }

  .theme-btn {
    border: none;
    border-radius: 999px;
    padding: 8px 16px;
    font-size: 13px;
    cursor: pointer;
    background: rgba(255,255,255,0.12);
    color: var(--text-main);
    backdrop-filter: blur(18px);
    border: 1px solid rgba(255,255,255,0.25);
    display: flex;
    align-items: center;
    gap: 6px;
  }

  body.light .theme-btn {
    background: rgba(255,255,255,0.8);
    border-color: rgba(148,163,184,0.7);
  }

  /* Chatbot */
  .chatbot-bubble {
    position: fixed;
    bottom: 24px;
    right: 24px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: radial-gradient(circle at top left, #22c55e, #16a34a);
    box-shadow: 0 12px 30px rgba(22,163,74,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 50;
    color: #f9fafb;
    font-weight: 800;
    font-size: 22px;
    user-select: none;
  }

  .chatbot-panel {
    position: fixed;
    bottom: 90px;
    right: 24px;
    width: 260px;
    max-height: 360px;
    border-radius: 18px;
    background: rgba(15,23,42,0.96);
    color: #e5e7eb;
    box-shadow: 0 18px 50px rgba(0,0,0,0.7);
    padding: 14px 14px 10px;
    display: none;
    flex-direction: column;
    gap: 8px;
    z-index: 49;
    font-size: 13px;
  }

  body.light .chatbot-panel {
    background: rgba(255,255,255,0.98);
    color: #111827;
  }

  .chatbot-panel.open {
    display: flex;
  }

  .chatbot-title {
    font-weight: 700;
    font-size: 14px;
    margin-bottom: 4px;
  }

  .chatbot-sub {
    font-size: 11px;
    color: #9ca3af;
    margin-bottom: 8px;
  }

  body.light .chatbot-sub {
    color: #6b7280;
  }

  .chatbot-questions {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 8px;
  }

  .chatbot-q {
    border: none;
    border-radius: 999px;
    padding: 6px 10px;
    font-size: 11px;
    text-align: left;
    cursor: pointer;
    background: rgba(31,41,55,0.9);
    color: #e5e7eb;
  }

  body.light .chatbot-q {
    background: rgba(229,231,235,0.9);
    color: #111827;
  }

  .chatbot-answer {
    font-size: 12px;
    line-height: 1.4;
    padding: 8px 10px;
    border-radius: 10px;
    background: rgba(31,41,55,0.9);
  }

  body.light .chatbot-answer {
    background: rgba(229,231,235,0.9);
  }

  /* Thinking animation */
  #thinkingDots {
    font-size: 12px;
    margin-top: 4px;
    opacity: 0.7;
  }

  .thinking-dots {
    display: inline-block;
    width: 24px;
    text-align: left;
    animation: dots 1s infinite steps(4, end);
  }

  @keyframes dots {
    0%   { content: ""; }
    25%  { content: "."; }
    50%  { content: ".."; }
    75%  { content: "..."; }
    100% { content: ""; }
  }

  .thinking-dots::after {
    content: "";
    animation: dots 1s infinite steps(4, end);
  }
</style>
</head>

<body class="dark">
<div class="wrapper">
  <div class="theme-toggle">
    <button class="theme-btn" id="themeToggle">
      <span id="themeIcon">ðŸŒ™</span>
      <span id="themeText">Dark mode</span>
    </button>
  </div>

  <h1>Viscosity Chart</h1>
  <div class="subtitle"> â€¢ Designed by MÂ£QIL â€¢ </div>

  <div class="dashboard">

    <!-- FLOW GRAPH -->
    <div class="glass">
      <h2>Viscosity Flow Speed</h2>
      <div class="row">
        <div class="label">Water (Low Viscosity)</div>
        <div class="bar"><div class="fill water"></div></div>
      </div>
      <div class="row">
        <div class="label">Blood (Medium Viscosity)</div>
        <div class="bar"><div class="fill blood"></div></div>
      </div>
      <div class="row">
        <div class="label">Honey (High Viscosity)</div>
        <div class="bar"><div class="fill honey"></div></div>
      </div>
    </div>

    <!-- LINE GRAPH -->
    <div class="glass">
      <h2>Blood Pressure Over Time</h2>
      <canvas id="lineChart"></canvas>
    </div>

    <!-- BAR GRAPH -->
    <div class="glass">
      <h2>Viscosity Levels</h2>
      <canvas id="barChart"></canvas>
    </div>

    <!-- RADAR GRAPH -->
    <div class="glass">
      <h2>Fluid Comparison Radar</h2>
      <canvas id="radarChart"></canvas>
    </div>

    <!-- PIE CHART -->
    <div class="glass">
      <h2>Relative Viscosity Share (Pie)</h2>
      <canvas id="pieChart"></canvas>
    </div>

    <!-- DOUGHNUT CHART -->
    <div class="glass">
      <h2>Flow Speed Share (Doughnut)</h2>
      <canvas id="doughnutChart"></canvas>
    </div>

    <!-- BUBBLE CHART -->
    <div class="glass">
      <h2>Density vs Flow (Bubble)</h2>
      <canvas id="bubbleChart"></canvas>
    </div>

    <!-- POLAR AREA CHART -->
    <div class="glass">
      <h2>Fluid Property Polar Area</h2>
      <canvas id="polarChart"></canvas>
    </div>

  </div>
</div>

<!-- Chatbot -->
<div class="chatbot-panel" id="chatbotPanel">
  <div class="chatbot-title">MÂ£QIL Bot Version: 20H26.0011</div>
  <div class="chatbot-sub">Tap a question.</div>
  <div class="chatbot-questions">
    <button class="chatbot-q" data-q="what_is_viscosity">What is viscosity?</button>
    <button class="chatbot-q" data-q="why_honey_thick">Why is honey so thick?</button>
    <button class="chatbot-q" data-q="why_water_fast">Why does water flow fast?</button>
    <button class="chatbot-q" data-q="what_is_fluid">What is a fluid?</button>
    <button class="chatbot-q" data-q="why_blood_sticky">Why is blood sticky?</button>
    <button class="chatbot-q" data-q="what_does_viscosity_mean">What does viscosity even mean?</button>
    <button class="chatbot-q" data-q="slowest_fluid">Which fluid is the slowest?</button>
    <button class="chatbot-q" data-q="fastest_fluid">Which fluid is the fastest?</button>
  </div>
  <div class="chatbot-answer" id="chatbotAnswer">
    Pick a question.
  </div>
  <div id="thinkingDots" style="display:none;">
    <span class="thinking-dots"></span>
  </div>
</div>

<div class="chatbot-bubble" id="chatbotBubble">
  ?
</div>

<script>
/* THEME TOGGLE */
const themeToggle = document.getElementById("themeToggle");
const themeIcon = document.getElementById("themeIcon");
const themeText = document.getElementById("themeText");

function setTheme(light) {
  if (light) {
    document.body.classList.add("light");
    themeIcon.textContent = "â˜€ï¸";
    themeText.textContent = "Light mode";
  } else {
    document.body.classList.remove("light");
    themeIcon.textContent = "ðŸŒ™";
    themeText.textContent = "Dark mode";
  }
}

let isLight = false;
themeToggle.addEventListener("click", () => {
  isLight = !isLight;
  setTheme(isLight);
});

/* CHATBOT */
const chatbotBubble = document.getElementById("chatbotBubble");
const chatbotPanel = document.getElementById("chatbotPanel");
const chatbotAnswer = document.getElementById("chatbotAnswer");
const thinkingDots = document.getElementById("thinkingDots");

const answers = {
  what_is_viscosity:
    "Viscosity is just how runny or thick a liquid is. Water is like zoom, honey is like sloooow.",
  why_honey_thick:
    "Honey is thick because the little sugar molecules inside it are super packed and sticky, so it doesnâ€™t want to move fast.",
  why_water_fast:
    "Water flows fast because its particles are tiny and not holding onto each other much. Itâ€™s like kids sprinting in a hallway.",
  what_is_fluid:
    "A fluid is anything that can flow and take the shape of its container. So water, blood, honey, even air counts.",
  why_blood_sticky:
    "Blood is a bit sticky because it has cells and proteins in it. Itâ€™s not as thick as honey, but not as chill as water.",
  what_does_viscosity_mean:
    "Viscosity basically means â€˜how hard is it for this liquid to move?â€™ High viscosity = thick and slow. Low viscosity = thin and fast.",
  slowest_fluid:
    "Out of our three, honey is the slowpoke. It has super high viscosity, so itâ€™s like dragging glue.",
  fastest_fluid:
    "Water wins the race. It has low viscosity, so it slides and splashes everywhere like itâ€™s late for school."
};

chatbotBubble.addEventListener("click", () => {
  chatbotPanel.classList.toggle("open");
});

document.querySelectorAll(".chatbot-q").forEach(btn => {
  btn.addEventListener("click", () => {
    const key = btn.getAttribute("data-q");

    chatbotAnswer.textContent = "Hmm, give me a sec to think...";
    thinkingDots.style.display = "block";

    setTimeout(() => {
      chatbotAnswer.textContent = answers[key] || "My tiny brain doesnâ€™t know that one yet.";
      thinkingDots.style.display = "none";
    }, 1200);
  });
});

/* CHART.JS BASE OPTIONS */
const baseOptions = {
  responsive: true,
  plugins: {
    legend: {
      labels: {
        color: getComputedStyle(document.body).getPropertyValue("--text-main"),
        font: { family: "-apple-system" }
      }
    }
  }
};

/* LINE GRAPH */
new Chart(document.getElementById("lineChart"), {
  type: "line",
  data: {
    labels: ["0s","1s","2s","3s","4s","5s"],
    datasets: [{
      label: "Blood Pressure (mmHg)",
      data: [80, 110, 130, 120, 100, 90],
      borderColor: "#3b82f6",
      borderWidth: 3,
      tension: 0.4,
      pointRadius: 4,
      pointBackgroundColor: "#ffffff",
      pointBorderColor: "#3b82f6",
      fill: false
    }]
  },
  options: {
    ...baseOptions,
    plugins: { legend: { display: false } },
    scales: {
      x: { ticks: { color: "#9ca3af" }, grid: { display: false } },
      y: { ticks: { color: "#9ca3af" }, grid: { color: "var(--chart-grid)" } }
    }
  }
});

/* BAR GRAPH */
new Chart(document.getElementById("barChart"), {
  type: "bar",
  data: {
    labels: ["Water", "Blood", "Honey"],
    datasets: [{
      label: "Viscosity Level",
      data: [1, 3, 8],
      backgroundColor: ["#3b82f6", "#f97316", "#eab308"],
      borderRadius: 12
    }]
  },
  options: {
    ...baseOptions,
    plugins: { legend: { display: false } },
    scales: {
      x: { ticks: { color: "#9ca3af" }, grid: { display: false } },
      y: { ticks: { color: "#9ca3af" }, beginAtZero: true, grid: { color: "var(--chart-grid)" } }
    }
  }
});

/* RADAR GRAPH */
new Chart(document.getElementById("radarChart"), {
  type: "radar",
  data: {
    labels: ["Viscosity", "Flow Speed", "Density", "Pressure Response"],
    datasets: [
      {
        label: "Water",
        data: [1, 10, 2, 3],
        borderColor: "#3b82f6",
        backgroundColor: "rgba(59,130,246,0.2)",
        pointBackgroundColor: "#3b82f6"
      },
      {
        label: "Blood",
        data: [4, 6, 5, 8],
        borderColor: "#ef4444",
        backgroundColor: "rgba(239,68,68,0.2)",
        pointBackgroundColor: "#ef4444"
      },
      {
        label: "Honey",
        data: [10, 1, 9, 2],
        borderColor: "#eab308",
        backgroundColor: "rgba(234,179,8,0.25)",
        pointBackgroundColor: "#eab308"
      }
    ]
  },
  options: {
    ...baseOptions,
    scales: {
      r: {
        angleLines: { color: "var(--chart-grid)" },
        grid: { color: "var(--chart-grid)" },
        pointLabels: { color: "var(--text-main)" },
        ticks: { color: "#9ca3af" }
      }
    }
  }
});

/* PIE CHART */
new Chart(document.getElementById("pieChart"), {
  type: "pie",
  data: {
    labels: ["Water", "Blood", "Honey"],
    datasets: [{
      data: [1, 3, 8],
      backgroundColor: ["#3b82f6", "#f97316", "#eab308"],
      borderColor: "var(--chart-border)",
      borderWidth: 2
    }]
  },
  options: baseOptions
});

/* DOUGHNUT CHART */
new Chart(document.getElementById("doughnutChart"), {
  type: "doughnut",
  data: {
    labels: ["Water", "Blood", "Honey"],
    datasets: [{
      data: [10, 6, 2],
      backgroundColor: ["#22c55e", "#0ea5e9", "#6366f1"],
      borderColor: "var(--chart-border)",
      borderWidth: 2,
      cutout: "60%"
    }]
  },
  options: baseOptions
});

/* BUBBLE CHART */
new Chart(document.getElementById("bubbleChart"), {
  type: "bubble",
  data: {
    datasets: [
      {
        label: "Water",
        data: [{ x: 2, y: 9, r: 10 }],
        backgroundColor: "rgba(59,130,246,0.6)"
      },
      {
        label: "Blood",
        data: [{ x: 5, y: 6, r: 14 }],
        backgroundColor: "rgba(239,68,68,0.6)"
      },
      {
        label: "Honey",
        data: [{ x: 9, y: 2, r: 18 }],
        backgroundColor: "rgba(234,179,8,0.7)"
      }
    ]
  },
  options: {
    ...baseOptions,
    scales: {
      x: { ticks: { color: "#9ca3af" }, grid: { color: "var(--chart-grid)" } },
      y: { ticks: { color: "#9ca3af" }, grid: { color: "var(--chart-grid)" } }
    }
  }
});

/* POLAR AREA CHART */
new Chart(document.getElementById("polarChart"), {
  type: "polarArea",
  data: {
    labels: ["Water", "Blood", "Honey"],
    datasets: [{
      data: [3, 6, 9],
      backgroundColor: [
        "rgba(59,130,246,0.7)",
        "rgba(248,113,113,0.7)",
        "rgba(250,204,21,0.8)"
      ],
      borderColor: "var(--chart-border)",
      borderWidth: 2
    }]
  },
  options: baseOptions
});
</script>

</body>
</html>